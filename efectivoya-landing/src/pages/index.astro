---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import Hero from '../components/Hero.astro';
import HowItWorks from '../components/HowItWorks.astro';
import Services from '../components/Services.astro';
import Banks from '../components/Banks.astro';
import VideosTutoriales from '../components/VideosTutoriales.astro';
import WhyUs from '../components/WhyUs.astro';
import FAQ from '../components/FAQ.astro';
import Ubicacion from '../components/Ubicacion.astro';
import CTAFinal from '../components/CTAFinal.astro';
import Footer from '../components/Footer.astro';
---

<BaseLayout
  title="EfectivoYa — Convierte tu tarjeta de crédito en efectivo al instante | Huancayo"
  description="Efectiviza el saldo de tu tarjeta de crédito en efectivo al instante con atención personalizada en Huancayo. Dirección y horarios oficiales en esta página."
>
  <Navbar />
  <main>
    <Hero />
    <HowItWorks />
    <Services />
    <Banks />
    <VideosTutoriales />
    <WhyUs />
    <FAQ />
    <Ubicacion />
    <CTAFinal />
  </main>
  <Footer />
</BaseLayout>

<script>
  // Global IntersectionObserver for .reveal elements
  // (complementing individual component observers)
  const globalReveal = new IntersectionObserver(
    (entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          globalReveal.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.12, rootMargin: '0px 0px -40px 0px' }
  );

  document.querySelectorAll('.reveal').forEach(el => globalReveal.observe(el));
</script>
