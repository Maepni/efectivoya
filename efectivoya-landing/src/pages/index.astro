---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import Hero from '../components/Hero.astro';
import Stats from '../components/Stats.astro';
import HowItWorks from '../components/HowItWorks.astro';
import Services from '../components/Services.astro';
import Banks from '../components/Banks.astro';
import WhyUs from '../components/WhyUs.astro';
import FAQ from '../components/FAQ.astro';
import CTAFinal from '../components/CTAFinal.astro';
import Footer from '../components/Footer.astro';
---

<BaseLayout
  title="EfectivoYa — Tu Dinero Al Instante | Billetera Digital Perú"
  description="EfectivoYa es la billetera digital fintech para peruanos. Recarga tu saldo, retira a tus cuentas bancarias sin comisiones y gestiona todo desde tu celular."
>
  <Navbar />
  <main>
    <Hero />
    <Stats />
    <HowItWorks />
    <Services />
    <Banks />
    <WhyUs />
    <FAQ />
    <CTAFinal />
  </main>
  <Footer />
</BaseLayout>

<script>
  // Global IntersectionObserver for .reveal elements
  // (complementing individual component observers)
  const globalReveal = new IntersectionObserver(
    (entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          globalReveal.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.12, rootMargin: '0px 0px -40px 0px' }
  );

  document.querySelectorAll('.reveal').forEach(el => globalReveal.observe(el));
</script>
